@using MVCExtention;
@{
    ViewBag.Title = "优惠券管理";
}

<!--工具栏-->
<div id="floatHead" class="toolbar-wrap">
    <div class="toolbar">
        <div class="box-wrap">
            <a class="menu-btn"></a>
            <div class="l-list">
                <ul class="icon-list">
                    <li><a class="add" href="@Url.Action("Edit")"><i></i><span>新增</span></a></li>
                    <li><a class="edit" href="javascript:;" onclick="EditGrid('jqxgrid', '@Url.Action("Edit")');"><i></i><span>修改</span></a></li>
                    <li><a class="del" href="javascript:;" onclick="DelGrid('jqxgrid', '@Url.Action("Delete")');"><i></i><span>删除</span></a></li>
                </ul>
            </div>
        </div>
    </div>
</div>
<!--/工具栏-->
<!--列表-->
<div class="table-container">
    <div id="jqxgrid"></div>
</div>
<!--/列表-->
@section  scripts{


    <script type="text/javascript">
        $(document).ready(function () {
            var url = "@Url.Action("GetList")";
            var datafields = [{ name: 'ID' }, { name: 'Name' }, { name: 'CouponType' }, { name: 'ClassId' },

		{ name: 'SendCount' }, { name: 'PreName' }, { name: 'CpLength' }, { name: 'IsPwd' },

		{ name: 'JE' }, { name: 'NeedPoint' }, { name: 'QxLx' }, { name: 'IsCongZengSongKaiShi' },

		{ name: 'StartDate' }, { name: 'EndDate' }, { name: 'QXTS' }, { name: 'CategoryId' },

		{ name: 'ProductId' }, { name: 'ProductSku' }, { name: 'ImageUrl' }, { name: 'MinPrice' },

		{ name: 'MaxPrice' }, { name: 'IsEnable' }, { name: 'CreateDate' }, { name: 'Createor' },

		{ name: 'SupplierId' }, { name: 'Status' }, { name: 'Note' }];
            var columns = [
  { text: '优惠券名称', dataField: 'Name', cellsalign: "left", width: 200 },

  { text: '优惠券类型', dataField: 'CouponType',  @HelperExtend.ParseEnum(typeof(EasyCms.Model.CouponType)) },



  { text: '面值', dataField: 'JE', cellsalign: "right" },

  { text: '需要积分', dataField: 'NeedPoint', cellsalign: "right" },

  { text: '期限类型', dataField: 'QxLx',  @HelperExtend.ParseEnum(typeof(EasyCms.Model.QxLx)) },

  { text: '有效时间起', dataField: 'StartDate' },

  { text: '有效时间止', dataField: 'EndDate' },

  { text: '期限天数', dataField: 'QXTS', cellsalign: "right" },
  { text: '启用', dataField: 'IsEnable',  @HelperExtend.ParseEnable() },

  { text: '创建日期', dataField: 'CreateDate' }];
            CreateGrid("jqxgrid", url, datafields, columns);


        });
    </script>


}
